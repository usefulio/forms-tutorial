<head>
  <title>Meteor Tasks</title>
</head>

<body>
  <nav>
    <div class="container">
      <div class="nav-wrapper">
        <a href="#" class="brand-logo">Add task:</a>
      </div>
    </div>
  </nav>
          
  <div class="container">
    {{> TasksForm}}
  </div>
</body>

<template name="TasksForm">
  <div class="row">
    <form class="col s12">
      <div class="row">
        <div class="input-field col s12">
          <input name="task" type="text" class="validate {{invalidInputClass 'task'}}" value={{doc "task"}}>
          <label for="task">Task <span class="error">{{#with error 'task'}} {{message}} {{/with}}</span></label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input name="comments" type="text" class="validate {{invalidInputClass 'comments'}}" value={{doc "comments"}}>
          <label for="comments">Comments <span class="error">{{#with error 'comments'}} {{message}} {{/with}}</span></label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <label for="dateDue" class="active">Date Due <span class="error">{{#with error 'dateDue'}} {{message}} {{/with}}</span></label>
          <input name="dateDue" type="date" class="datepicker {{invalidInputClass 'comments'}}" value={{doc "dateDue"}}>
        </div>
      </div>
      {{#if doc '_id'}}
      <div class="row">
        <a class="default-form waves-effect waves-teal btn-flat ">Add a new task</a>
      </div>
      {{/if}}
    </form>
  </div>
  <div class="row">
    <ul class="collection">
      {{#each tasks}}
        <a href="#!" class="collection-item {{activeTaskClass}}">
          <h5>{{task}}</h5>
          <p>{{comments}}</p>
          <p>{{dateDue}}</p>
        </a>
      {{/each}}
    </ul>
  </div>
</template>
